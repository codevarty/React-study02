# 클래스 컴포넌트

- 최근 리액트에서 사용하지 않는다.

## 클래스 기반 컴포넌트

- 클래스 형태로 컴포넌트 생성
- `render()` 메서드를 통해 컴포넌트의 모양을 정의
- 리액트 16.8이전에는 클래스 컴포넌트만 상태 관리 가능
- 16.8이후로는 React Hooks를 통해 함수형 컴포넌트에서도 상태 관리 가능
- 클래스 컴포넌트는 함수형 컴포넌트와 같이 사용 가능

- 16.8버전 이전에는 초기화와 상태 정의를 위해 클래스를 사용했다.
- state 사용 방법

  - 클래스 컴포넌트에서 state는 객체 형태로 정의
  - `this.state`를 통해 접근
  - state를 업데이트 할 경으 `this.setState()`를 사용(반환 값 객체 형태)

- constructor() 함수

  - 클래스 컴포넌트의 초기화를 담당
  - state를 여기서 정의 한다.
  - `super()`를 통해 부모 클래스의 생성자를 호출(반드시)

- 함수 사용

  - 클래스 컴포넌트에서 함수를 사용할 때는 `this`를 붙여야 한다.
  - `this.함수이름.bind(this)`를 통해 함수를 바인딩 해야 한다. 안 그러면 오류 발생

- 생명주기 함수 == useEffect

  - 클래스 컴포넌트에서는 `componentDidMount()`, `componentDidUpdate()`, `componentWillUnmount()` 함수를 사용한다.
    - `componentDidMount()` : 컴포넌트가 마운트 된 직후 호출
    - `componentDidUpdate()` : 컴포넌트가 업데이트 된 직후 호출
    - `componentWillUnmount()` : 컴포넌트가 마운트 해제되어 제거되기 직전 호출
  - 클래스에서 사용하면 조건문을 추가적으로 사용해야 한다. -> 코드가 길어짐
  - useEffect는 의존성 배열을 통해 실행 조건 설정이 가능하지만 클래스에서는 조건문을 통해 설정해야 한다.
    - 클래스내의 `componentDidUpdate()` 함수는 업데이트 될 때마다 호출된더. -> 비효율적

- 오류 경계에서는 클래스 컴포넌트를 상요해야 한다.

## 오류 경계 (Error Boundaries)

- 일반적인 자바스크리트에서 오류 처리는 try-catch문을 사용한다.
- 컴포넌트에서 오류가 발생 하면 try-catch문을 사용할 수 없는 경우도 있기 때문에 이 때는 오류 경계를 사용한다.
- `componentDidCatch()` 함수를 사용한다. <- 클래스 컴포넌트에서만 사용 가능
  - try-catch문과 비슷하게 오류가 발생한 자식 컴포넌트의 오류를 잡아낸다.
  - 이 메소드를 사용하는 이유는 오류가 발생 할 때 전체 어플리케이션이 중단되는 것을 방지하기 위해서이다.

## 결론
- 클래스 컴포넌트는 최근에는 사용하지 않지만 개인적으로 사용하고 싶을 때 사용해도 되며 오류 경계일 때는 클래스 컴포넌트를 사용해야 한다.
